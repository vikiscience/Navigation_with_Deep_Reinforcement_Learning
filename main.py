import const
from src import agent, algo, ref, hyperparameter_search, utils_env

import numpy as np

random_seed = const.random_seed
np.random.seed(random_seed)

#state_size, action_size = utils_env.get_info()
state_size = const.state_size
action_size = const.action_size
N = const.rolling_mean_N


def train_default_algo():
    # use default params
    ag = agent.DQNAgent()
    # ag = ref.Agent()
    al = algo.DQNAlgo(utils_env.env, ag)
    al.train()


def test_default_algo():
    # use default params
    ag = agent.DQNAgent()
    # ag = ref.Agent()
    al = algo.DQNAlgo(utils_env.env, ag)
    al.test()


if __name__ == '__main__':
    #train_default_algo()
    #test_default_algo()

    hyperparameter_search.grid_search()

    #hist = [0.0, 4.0, 0.0, 1.0, -3.0, 0.0, 2.0, 0.0, 0.0, 0.0, 1.0, 1.0, -1.0, 0.0, -1.0, 3.0, 1.0, 0.0, 2.0, -3.0, 1.0, -1.0, 0.0, 0.0, 2.0, -2.0, 5.0, 2.0, 0.0, 0.0, 0.0, -2.0, -1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 1.0, 0.0, -5.0, 2.0, 0.0, 0.0, 2.0, -1.0, -2.0, 1.0, 1.0, 0.0, -2.0, -2.0, 0.0, -1.0, 2.0, 1.0, 1.0, 0.0, 2.0, -1.0, -2.0, 1.0, 0.0, 0.0, -3.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, -1.0, 1.0, 0.0, 1.0, -1.0, 1.0, 1.0, 2.0, 1.0, 2.0, 0.0, 0.0, 0.0, 1.0, 0.0, 2.0, -2.0, 0.0, 0.0, -1.0, 0.0, -1.0, 0.0, 0.0, 0.0, 0.0, 1.0, -1.0, 0.0, 0.0, 0.0, 0.0, 0.0, -3.0, 0.0, -2.0, 2.0, -3.0, 0.0, 1.0, 1.0, 1.0, -1.0, 0.0, 1.0, 2.0, -1.0, 1.0, 0.0, 0.0, 0.0, -2.0, -1.0, -1.0, 0.0, 1.0, 5.0, 1.0, 0.0, -1.0, -1.0, 0.0, 0.0, 2.0, -3.0, 0.0, 0.0, -3.0, 2.0, 3.0, -2.0, -2.0, 1.0, -1.0, 0.0, -1.0, -3.0, 0.0, 0.0, 0.0, 0.0, 2.0, 0.0, 1.0, 0.0, 1.0, 0.0, 0.0, -2.0, -3.0, -1.0, -2.0, 0.0, -2.0, 2.0, -2.0, -2.0, 0.0, 0.0, 1.0, -3.0, 3.0, 0.0, 1.0, -3.0, -2.0, -1.0, 1.0, 2.0, 1.0, 0.0, 1.0, 0.0, -1.0, 0.0, 0.0, -1.0, -1.0, -1.0, 1.0, 1.0, 0.0, 1.0, 0.0, 1.0, 0.0, 0.0, 3.0, -3.0, 1.0, 1.0, -2.0, -3.0, -1.0, -1.0, 2.0, 0.0, -3.0, -2.0, 0.0, 0.0, 0.0, 0.0, 2.0, 1.0, 0.0, -1.0, 0.0, 0.0, -2.0, -1.0, -1.0, 0.0, -1.0, -2.0, 1.0, 2.0, 1.0, 0.0, 2.0, 1.0, 1.0, -1.0, 0.0, 1.0, -2.0, 4.0, -1.0, 1.0, -1.0, -1.0, 1.0, 2.0, 0.0, 2.0, 2.0, 0.0, 0.0, 1.0, 0.0, 0.0, -3.0, 1.0, 1.0, 1.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, -3.0, 2.0, -2.0, -2.0, 0.0, 0.0, 2.0, 0.0, 0.0, -2.0, 1.0, -2.0, 1.0, 3.0, 0.0, 0.0, 0.0, -1.0, 0.0, 1.0, 0.0, 2.0, 0.0, 1.0, 0.0, 2.0, -1.0, 0.0, -1.0, 0.0, -1.0, -3.0, 0.0, 2.0, 1.0, 3.0, -1.0, 2.0, -1.0, 0.0, 1.0, 0.0, -3.0, 0.0, 0.0, 0.0, -2.0, -4.0, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0, -1.0, 1.0, 2.0, -2.0, 1.0, 0.0, -1.0, 3.0, 2.0, -1.0, 0.0, 3.0, 1.0, 3.0, 0.0, 3.0, 0.0, 0.0, 0.0, 2.0, 0.0, -1.0, -1.0, 1.0, -2.0, -1.0, 0.0, 0.0, -1.0, 3.0, 1.0, 0.0, -2.0, 1.0, -1.0, 0.0, -1.0, 2.0, -2.0, 0.0, 1.0, 0.0, -1.0, 2.0, 0.0, 1.0, 1.0, 0.0, 1.0, -1.0, -2.0, -2.0, 0.0, 0.0, 2.0, 0.0, 1.0, 0.0, 2.0, 1.0, 0.0, 3.0, 0.0, 0.0, -1.0, 0.0, 0.0, 1.0, 0.0, -2.0, 1.0, 1.0, 0.0, 0.0, 1.0, 2.0, -1.0, -1.0, 0.0, 3.0, -1.0, -1.0, -1.0, 2.0, -1.0, 0.0, 2.0, 0.0, 1.0, 0.0, 1.0, -2.0, -2.0, -2.0, 0.0, -1.0, 1.0, 1.0, 1.0, -2.0, 1.0, -3.0, -3.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, -1.0, -1.0, -1.0, -1.0, 0.0, 0.0, 1.0, -2.0, 1.0, 1.0, -1.0, -1.0, 1.0, 2.0, 0.0, -2.0, 2.0, -1.0, -1.0, 0.0, 0.0, 1.0, -1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 2.0, -2.0, 0.0, 0.0, 0.0, -1.0, -1.0, -3.0, -3.0, 0.0, 0.0, 0.0, 0.0, 1.0, -2.0, 1.0, 2.0, -3.0, 2.0, 0.0, 1.0, -3.0, -2.0, 1.0, -1.0, 1.0, 0.0, -2.0, 0.0, 1.0, 0.0, -4.0, 3.0, -3.0, 1.0, -1.0, 1.0, -1.0, -2.0, -1.0, 2.0, -1.0]
    #from src import utils_plot
    #utils_plot.plot_history_rolling_mean(hist)
